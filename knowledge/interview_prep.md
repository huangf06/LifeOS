# 腾讯面试准备：数据科学与因果推断

## 核心概念：A/B Testing

在实验设计中，我们必须确立两个核心假设，否则统计结果无效。

Q: 什么是 SUTVA (Stable Unit Treatment Value Assumption) 的两个核心条件？
A: 1. **无干扰 (No Interference)**: 一个个体的结果不受其他个体干预分配的影响（例如无社交网络效应）。
2. **单一形式 (No Hidden Variations)**: 干预措施对所有人都是一致的，没有不同版本的 Treatment。

Q: 在 A/B 测试中，什么是 SRM (Sample Ratio Mismatch)？最常见的处理方式是什么？
A: **定义**: 实际样本比例与预设比例（如 50/50）出现显著统计差异（Chi-Square 检验显著）。
**处理**: 必须**停止实验**并排查 Bug（如埋点延迟、重定向问题），**严禁**直接进行后续分析。

## 核心概念：Causal Inference (因果推断)

当无法进行随机对照实验时，我们使用观测数据进行推断。

Q: DID (双重差分法) 的核心假设是什么？
A: **平行趋势假设 (Parallel Trend Assumption)**: 如果没有干预，干预组和对照组的结果变量会随时间保持相同的变化趋势（斜率一致）。

Q: 什么时候应该使用 Synthetic Control (合成控制法) 而非 DID？
A: 当**只有一个干预单元**（例如只有一个省份实施了政策），且很难找到单一的完美对照组时。通过加权组合多个对照组来拟合干预组干预前的曲线。

## 游戏业务指标 & SQL

Q: 分析游戏营收时，ARPU 和 LTV 的核心区别是什么？
A: **ARPU** 是“快照指标”，反映当下的变现效率；**LTV** 是“预测指标”，反映用户整个生命周期的总价值，用于衡量长期健康度和 ROI。

Q: SQL: 想要对通过 user_id 分组后的 score 进行排名，且处理并列情况（1, 1, 2...），应该用哪个窗口函数？
A: `DENSE_RANK()` (注: `RANK()` 会跳号变成 1, 1, 3; `ROW_NUMBER()` 强制不重复 1, 2, 3)。